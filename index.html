<!doctype html>
<html lang="tr">
<head>
    <link rel="icon" type="image/png" href="https://iili.io/fcgxpoX.md.jpg">
    
    <meta property="og:title" content="For My Twin">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://iili.io/fcgxpoX.md.jpg"> 
    <meta property="og:url" content="https://kazikate.github.io/Biography/"> 
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@kazikate1"> <meta name="twitter:title" content="For My Twin">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://iili.io/fcgxpoX.md.jpg"> 

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <title>Ä°yi ki DoÄŸdun, Ä°kizimmm ğŸ‚</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<style>
:root{
  --bg: #0b0b10;
  --card: #12121a;
  --text: #f0f3f8;
  --muted: #c2c7d3;
  --primary: #9b5cff;
  --primary-2: #35d1ff;
  --accent: #ff7ac3;
  --glow: 0 0 40px rgba(155,92,255,.35), 0 0 80px rgba(53,209,255,.25);
  --radius: 22px;
}
*{box-sizing:border-box;}
html, body {
  margin:0;
  padding:0;
  overflow-x:hidden;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--text);
  background-color: var(--bg);
  line-height:1.6;
  -webkit-tap-highlight-color: transparent;
}

/* --- SCROLL ENGELLEME --- */
body.no-scroll {
    overflow: hidden;
}

/* --- HAREKETLÄ° GLOW EFEKTLERÄ° --- */
.glow-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
}

.blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.13;
  animation: blob-move 5s infinite alternate ease-in-out;
}

.blob:nth-child(1) { background: var(--primary); width: 500px; height: 500px; top: -150px; left: -150px; }
.blob:nth-child(2) { background: var(--primary-2); width: 600px; height: 600px; bottom: -150px; right: -150px; animation-duration: 25s; animation-delay: -5s; }
.blob:nth-child(3) { background: var(--accent); width: 350px; height: 350px; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: wander 20s infinite ease-in-out; opacity: 0.4; }

@keyframes blob-move {
  0% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(50px, 50px) scale(1.1); }
  100% { transform: translate(-20px, -20px) scale(0.9); }
}

@keyframes wander {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  33% { transform: translate(-20%, -80%) rotate(120deg); }
  66% { transform: translate(-80%, -20%) rotate(240deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

.wrap {
  position: relative;
  z-index: 1;
  max-width: 960px;
  margin: 0 auto;
  padding: 24px;
  min-height: 100vh;
}

.card {
  position: relative;
  border-radius: var(--radius);
  padding: 20px 24px 20px;
  background: linear-gradient(160deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.35);
  border: 1px solid rgba(255,255,255,0.05);
  overflow: visible;
  will-change: transform, box-shadow, filter, opacity;
  transform: translateZ(0);
  opacity: 0;
  transform: translateY(20px) translateZ(0);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.card.reveal{ opacity:1; transform: translateY(0) translateZ(0); }

header.card {
  box-shadow: var(--glow), 0 12px 24px rgba(0, 0, 0, 0.5), 0 20px 60px rgba(0, 0, 0, 0.35);
}
header.card::before, header.card::after {
content:""; position:absolute; width:150px; height:150px; border-radius:50%; filter: blur(25px); top:50%; left:50%; transform-origin: center; will-change: transform, filter;
}
header.card::before { background: rgba(155,92,255,0.3); animation: orbit-mor 1s linear forwards;}
header.card::after { background: rgba(53,209,255,0.3); animation: orbit-mavi 1s linear forwards;}
@keyframes orbit-mor {from { transform: translate(-50%, -50%) rotate(65deg) translate(-200px, 120px) translateZ(0);} to {transform: translate(-50%, -50%) rotate(0deg) translate(-200px, 120px) translateZ(0);}}
@keyframes orbit-mavi {from { transform: translate(-50%, -50%) rotate(245deg) translate(-200px, 120px) translateZ(0);} to {transform: translate(-50%, -50%) rotate(180deg) translate(-200px, 120px) translateZ(0);}}
header.card > * { position: relative; z-index:1; }

.badge{ display:inline-flex; gap:8px; align-items:center; color:var(--muted); font-size:16px; padding:10px 14px; border-radius:999px; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); }
.title{ font-family:'Pacifico', cursive; font-size:clamp(36px,8vw,64px); line-height:1.5; margin:15px 0 25px; font-weight:500; letter-spacing:.2px; display:inline-block; padding-bottom: 0.30em; padding: 0.25em 0.08em; background: linear-gradient(90deg, var(--primary), var(--primary-2)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
.subtitle{ margin:0; color:var(--muted); font-size:clamp(14px,2.6vw,18px); }
.actions{ display:flex; gap:12px; flex-wrap:wrap; margin-top:18px; align-items:center; }
.btn{ cursor:pointer; padding:14px 20px; border-radius:14px; border:1px solid rgba(255,255,255,.1); background: rgba(255,255,255,.04); color:var(--text); font-weight:600; transition: .2s transform,.2s background,.2s border; font-size:16px; will-change: transform;}
.btn:hover{ transform:translateY(-1px) translateZ(0); background: rgba(255,255,255,.07); }
.btn.primary{ background: linear-gradient(135deg, var(--primary), var(--primary-2)); border:none; box-shadow:0 10px 30px rgba(155,92,255,.3); }
.btn:focus { outline: none; -webkit-tap-highlight-color: transparent; }
@keyframes press { 0% { transform: scale(1) translateZ(0); } 50% { transform: scale(0.95) translateZ(0); } 100% { transform: scale(1) translateZ(0); } }
.btn.press { animation: press 0.2s ease; }

section.card{ margin-top:20px; }
.fancy{ font-family:'Pacifico', cursive; background: linear-gradient(90deg, var(--accent), var(--primary)); -webkit-background-clip:text; color:transparent; font-size:28px; font-weight:400; margin-left:4px; }
.type{min-height:48px; font-size:clamp(16px,2.6vw,20px);}
#typewriter{ display: block; text-align: left; }
.caret{ display:inline-block; width:10px; background:currentColor; animation:blink 1s steps(1) infinite; vertical-align: middle; }
.grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 20px; justify-items: center; }

.polaroid {
  position: relative;
  z-index: 2;
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
  border-radius: 14px;
  padding: 12px;
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.35);
  opacity: 0;
  transform: translateY(20px) rotate(var(--rot, -2deg));
  transition: opacity 0.6s ease, transform 0.6s ease;
  width: 100%;
  max-width: 220px;
  will-change: transform, opacity;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  cursor: pointer;
}
.polaroid.reveal { opacity: 1; transform: translateY(0) rotate(var(--rot, -2deg)); }
.polaroid:hover{ transform:rotate(0) translateY(-2px) translateZ(0); }
.polaroid img{ width:100%; aspect-ratio:3/4; object-fit:cover; border-radius:10px; pointer-events: none;}
.polaroid .cap{ margin-top:6px; text-align:center; font-weight:600; font-size:13px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.polaroid:nth-child(1).reveal { transition-delay: 0s; }
.polaroid:nth-child(2).reveal { transition-delay: 0.2s; }
.polaroid:nth-child(3).reveal { transition-delay: 0s; }
.polaroid:nth-child(4).reveal { transition-delay: 0.2s; }

.timeline{position:relative; padding-left:22px}
.timeline:before{ content:""; position:absolute; left:10px; top:4px; bottom:4px; width:2px; background:linear-gradient(var(--primary), transparent); transform: translateZ(0);}
.t-item {
  position: relative; z-index: 2; margin: 16px 0; padding: 12px 12px 12px 16px; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: var(--radius); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); box-shadow: 0 14px 30px rgba(0, 0, 0, 0.35); opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease; will-change: transform, opacity;
}
.t-item.reveal { opacity: 1; transform: translateY(0); }
.t-item:before{ content:""; position:absolute; left:-6px; top:18.5px; width:12px; height:12px; border-radius:50%; background:var(--primary); transform: translateZ(0);}

footer{ margin:28px 0 8px; text-align:center; color:var(--muted); font-size:13px; }
#confetti { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
#musicIcon{ display:none; margin-left:12px; font-size:18px; animation:bounce 1s infinite alternate; }
@keyframes bounce{ 0%{transform:translateY(0) translateZ(0);} 100%{transform:translateY(-4px) translateZ(0);} }
@keyframes blink{ 0%,50%,100%{opacity:1;} 25%,75%{opacity:0;} }

#musicIcon { display: none; margin-left: 7px; width: 20px; height: 20px; animation: bounce 1s infinite alternate; }
.badge .emoji { width: 18px; height: 18px; vertical-align: middle; margin-right: 2px; }
.btn .emoji { width: 18px; height: 18px; vertical-align: middle; margin-left: 4px; }
h3 .emoji { width: 30px; height: 30px; vertical-align: -3px; margin-right: 1px; }
.subtitle .emoji { width: 18px; height: 18px; vertical-align: middle; margin-left: 0px; }

/* Ä°STATÄ°STÄ°K */
.stats-container-no-line { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
#stats-card .t-item { margin: 0; display: flex; align-items: center; font-size: 15px; }
#stats-card .t-item::before { display: none !important; content: none; }
.stat-highlight { font-size: 24px; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--primary-2)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-right: 10px; vertical-align: middle; line-height: 1; }

.xp-container { margin-top: 20px; padding: 0 8px; }
.xp-header { display: flex; justify-content: space-between; font-size: 13px; color: var(--muted); margin-bottom: 8px; font-weight: 600; }
.xp-badge { background: rgba(155, 92, 255, 0.15); color: var(--primary); padding: 2px 8px; border-radius: 6px; border: 1px solid rgba(155, 92, 255, 0.2); font-size: 11px; }
.xp-bar-bg { width: 100%; height: 8px; background: rgba(255,255,255,0.05); border-radius: 10px; overflow: hidden; position: relative; border: 1px solid rgba(255,255,255,0.05); }
.xp-bar-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary), var(--primary-2)); border-radius: 10px; box-shadow: 0 0 15px var(--primary); transition: width 2s cubic-bezier(0.22, 1, 0.36, 1); }

@media (min-width: 768px) {
  .wrap { max-width: 1200px; padding: 24px 20px; }
  .desktop-layout { display: grid; gap: 20px; margin-bottom: 20px; grid-template-columns: 1fr 1fr; grid-template-rows: auto 1fr auto auto; grid-template-areas: "header gallery" "message gallery" "timeline notes" "stats stats"; align-items: start; }
  #header-card { grid-area: header; }
  #gallery-card { grid-area: gallery; display: flex; flex-direction: column; height: 100%; margin-top: 0; }
  .gallery-card h3 { margin-bottom: 15px; }
  .gallery-card .grid { flex-grow: 1; display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; align-content: start; }
  #message-card { grid-area: message; display: flex; flex-direction: column; justify-content: center; height: auto; margin-top: 25px; }
  #timeline-card { grid-area: timeline; display: flex; flex-direction: column; justify-content: space-between; margin-top: -56.7px; }
  #notes-card { grid-area: notes; display: flex; flex-direction: column; justify-content: space-between; }
  #stats-card { grid-area: stats; }
  .timeline-card .timeline, .notes-card .timeline { display: flex; flex-direction: column; justify-content: space-between; }
  .stats-container-no-line { flex-direction: row; display: grid; grid-template-columns: repeat(3, 1fr); }
  #stats-card .t-item { justify-content: center; }
  .t-item { position: relative; margin: 8px 0; padding: 10px 10px 10px 14px; background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.08); border-radius: 14px; opacity: 0; transform: translateY(20px) translateZ(0); transition: opacity 0.6s ease, transform 0.6s ease; will-change: transform, opacity; }
}

/* --- YENÄ° MODAL VE ZOOM STÄ°LLERÄ° (Target+Reference Hibrit) --- */
/* istatistik*/
/* Modal Temel YapÄ±sÄ± */
.modal {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background-color: rgba(0, 0, 0, 0); /* BaÅŸlangÄ±Ã§ transparan */
  z-index: 10000;
  display: flex;
  align-items: center; justify-content: center;
  
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  
  transition: opacity 0.3s ease, background-color 0.3s ease, visibility 0.3s ease;
}

.modal.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  background-color: rgba(0, 0, 0, 0.4); /* AÃ§Ä±lÄ±nca koyu */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Modal Ä°Ã§erik Kutusu - Transform burada uygulanacak */
.modal-content {
  position: relative;
  width: auto;
  max-width: 90vw;
  
  /* BaÅŸlangÄ±Ã§ (KapalÄ±) Durumu */
  transform: scale(0);
  /* Referans kodundaki Yaylanma Efekti (Spring) */
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Modal iÃ§indeki Polaroid stili */
.modal-content .polaroid {
  cursor: default;
  transform: rotate(0deg) !important;
  
  /* Ä°STEDÄ°ÄÄ°N KOYU RENK (AnÄ±nda deÄŸiÅŸmesi iÃ§in !important) */
  background: rgba(20, 20, 40, 0.75) !important;
  
  /* GLOW EFEKTÄ° */
  box-shadow: 
    0 0 25px rgba(255, 122, 195, 0.5), 
    0 0 60px rgba(155, 92, 255, 0.4),
    0 40px 80px rgba(0, 0, 0, 0.8) !important;

  border: 0px solid rgba(255, 122, 195, 0.3);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  max-width: 80vw; width: auto; margin: 0; pointer-events: auto;
  

@media (min-width: 768px) {
  #confetti { display: none; }
  .modal-content .polaroid { max-width: 60vh; }
}
.polaroid > * { position: relative; z-index:1; }
.t-item > * { position: relative; z-index:1; }
</style>
</head>
<body>

  <div class="glow-container">
    <div class="blob"></div>
    <div class="blob"></div>
    <div class="blob"></div>
  </div>

  <div class="wrap">
    <canvas id="confetti"></canvas>
    <div class="desktop-layout">
      <header class="card" id="header-card">
        <span class="badge">
          <img class="emoji" src="https://iili.io/K2c9oAX.png" alt="Takvim" />
          22 AralÄ±k 2025
        </span>
        <h1 class="title">Ä°yi ki doÄŸdun, Ä°kizim!</h1>
        <p class="subtitle">
          Bu sayfayÄ± senin iÃ§in hazÄ±rladÄ±m. KÃ¼Ã§Ã¼k ama kalpten bir armaÄŸan
          <img class="emoji" src="https://iili.io/K2cmxIa.png" alt="ParÄ±ltÄ±" />
        </p>
        <div class="actions">
          <button class="btn primary" id="revealMsg">
            MesajÄ± GÃ¶ster
            <img class="emoji" src="https://iili.io/K2c52xs.png" alt="Mektup" />
          </button>
          <img id="musicIcon" src="https://iili.io/K2la7Fj.png" alt="MÃ¼zik" />
        </div>
        <audio id="player" preload="auto" loop></audio>
      </header>

      <section class="card" id="message-card">
        <h3>
          <img class="emoji" src="https://iili.io/K2ccrw7.png" alt="Mesaj" />
          <span class="fancy">Mesaj</span>
        </h3>
        <div class="type" id="typewriter" aria-live="polite"></div>
      </section>

      <section class="card gallery-card" id="gallery-card">
        <h3>
          <img class="emoji" src="https://iili.io/K2c8JFR.png" alt="FotoÄŸraf" />
          <span class="fancy">Minik bir galeri</span>
        </h3>
        <div class="grid" id="gallery">
          <figure class="polaroid" style="--rot:-3deg">
            <img src="https://iili.io/fcMQste.md.jpg" alt="FotoÄŸraf 1" />
            <figcaption class="cap">13.12.2025</figcaption>
          </figure>
          <figure class="polaroid" style="--rot:2deg">
            <img src="https://iili.io/fcMDAFf.md.png" alt="FotoÄŸraf 2" />
            <figcaption class="cap">07.07.2024</figcaption>
          </figure>
          <figure class="polaroid" style="--rot:-3deg">
            <img src="https://iili.io/fcMp1nt.md.png" alt="FotoÄŸraf 3" />
            <figcaption class="cap">19.05.2025</figcaption>
          </figure>
          <figure class="polaroid" style="--rot:2deg">
            <img src="https://iili.io/fcMywga.md.jpg" alt="FotoÄŸraf 4" />
            <figcaption class="cap">30.10.2025</figcaption>
          </figure>
        </div>
      </section>

      <section class="card timeline-card" id="timeline-card">
        <h3>
          <img class="emoji" src="https://iili.io/K2c64b2.png" alt="FotoÄŸraf" />
          <span class="fancy">KÃ¼Ã§Ã¼k zaman Ã§izelgesi</span>
        </h3>
        <div class="timeline" id="timeline">
          <div class="t-item"><strong>TanÄ±ÅŸtÄ±ÄŸÄ±mÄ±z gÃ¼n</strong> â€” Her seferinde iyi ki yorumunu paylaÅŸtÄ±m ve iyi ki sende bana yazdÄ±n diyorum. Ä°yi ki tanÄ±ÅŸmÄ±ÅŸÄ±z...</div>
          <div class="t-item"><strong>Ä°lk samimi sohbet</strong> â€” Samimi olabilmemizi saÄŸlayan en Ã¶nemli ÅŸeylerden biri kesinlikle mÃ¼zik zevklerimizdi. Bu sayede birbirimize Ã§ok Ã§abuk alÄ±ÅŸtÄ±k.</div>
          <div class="t-item"><strong>GittikÃ§e aynÄ± olduÄŸumuzu fark ettik</strong> â€” Birbirimize kendimizi anlattÄ±kÃ§a ne kadarda benzediÄŸimizi fark ettik ve bence bu aramÄ±zdaki baÄŸÄ± Ã§oook fazla gÃ¼Ã§lendirdi.</div>
          <div class="t-item"><strong>BugÃ¼n</strong> â€” HayatÄ±mda gÃ¶rdÃ¼ÄŸÃ¼m en harika kiÅŸi iÃ§in bu sayfayÄ± hazÄ±rladÄ±m. (UmarÄ±m beÄŸenirsin.)</div>
        </div>
      </section>

      <section class="card notes-card" id="notes-card">
        <h3>
          <img class="emoji" src="https://iili.io/K2csrOv.png" alt="FotoÄŸraf" />
          <span class="fancy">KÃ¼Ã§Ã¼k notlar</span>
        </h3>
        <div class="timeline" id="timelineNotes">
          <div class="t-item">LÃ¼tfen istediÄŸin zaman bana ulaÅŸabileceÄŸini unutma. ÃœzgÃ¼nken senle birlikte Ã¼zÃ¼lmek, mutluyken senle birlikte mutlu olmak isterim.</div>
          <div class="t-item">SakÄ±n kendini yalnÄ±z hissetme. EtrafÄ±ndaki herkes gitse bile ben yanÄ±nda kalmaya devam edecem bunu asla unutma.</div>
          <div class="t-item">KeÅŸke sanal olmasaydÄ± dediÄŸim tek arkadaÅŸÄ±m sensin. Ä°yi ki varsÄ±nnn...</div>
        </div>
      </section>

      <section class="card" id="stats-card">
        <h3>
          <img class="emoji" src="https://iili.io/fcUNz2j.png" alt="Ä°statistik" />
          <span class="fancy">Ä°kizlik Raporu</span>
        </h3>
        <div class="stats-container-no-line">
          <div class="t-item">
            <strong class="stat-highlight"><span id="daysCounter">0</span></strong> GÃ¼ndÃ¼r TanÄ±ÅŸÄ±yoruz
          </div>
          <div class="t-item">
            <strong class="stat-highlight">%100</strong> Ruh Ä°kizliÄŸi
          </div>
          <div class="t-item">
            <strong class="stat-highlight" style="position: relative; top: -2px; font-size: 28px;">âˆ</strong> Ortak AnÄ±
            
          </div>
        </div>
        
        <div class="xp-container">
          <div class="xp-header">
            <span>ArkadaÅŸlÄ±k Seviyesi</span>
            <span class="xp-badge">Efsanevi</span>
          </div>
          <div class="xp-bar-bg">
            <div class="xp-bar-fill"></div>
          </div>
        </div>
      </section>
      
    <footer>
      <p>Seni mutlu etmek iÃ§in hazÄ±rlanmÄ±ÅŸ bir hediye...</p>
    </footer>
  </div>

  <div id="modal" class="modal">
    <div class="modal-content">
      </div>
  </div>

</body>
  </html>
<script>
const $ = sel => document.querySelector(sel);

// Typewriter
const lines = [
  "CanÄ±m ikizimm,",
  "BugÃ¼n senin gÃ¼nÃ¼n ve bugÃ¼n seni mutlu edebilmek iÃ§in bu sayfayÄ± senin iÃ§in hazÄ±rladÄ±m.",
  "Seninle tanÄ±ÅŸtÄ±ÄŸÄ±m iÃ§in o kadar mutluyum ki bunu anlatabilmem mÃ¼mkÃ¼n deÄŸil...",
  "Beni sevdiÄŸin iÃ§in, beni anladÄ±ÄŸÄ±n iÃ§in, bana destek olduÄŸun iÃ§in, bana tekrardan hayatÄ± sevdirdiÄŸin iÃ§in sana ne kadar teÅŸekkÃ¼r etsem az...",
  "UmarÄ±m bu yÄ±lÄ± daha Ã¶nce hiÃ§ olmadÄ±ÄŸÄ±n kadar mutlu geÃ§irirsin. Mutlu geÃ§irmen iÃ§in elimden geleni yapmaya Ã§alÄ±ÅŸacaÄŸÄ±ma ve seni asla yalnÄ±z bÄ±rakmayacaÄŸÄ±ma sÃ¶z veriyorumm.",
  "Ä°yi ki doÄŸduunnn!",
  "~Seni her ÅŸeyden Ã§ok seven Ä°kizin"
];
let i = 0, j = 0;
const speed = 30, hold = 900;
const el = $('#typewriter');
const heart = document.createElement('img');
heart.src = "https://iili.io/fcVF3kg.png";
heart.style.width = '28px'; heart.style.height = '28px'; heart.style.marginRight = '4px'; heart.style.verticalAlign = 'middle'; heart.style.opacity = 0; heart.style.transition = 'opacity 0.3s ease';
const caret = document.createElement('span');
caret.className = 'caret'; caret.innerHTML = '\u00A0';
el.appendChild(caret);

function type() {
  if (i < lines.length) {
    if (j <= lines[i].length) {
      el.innerHTML = lines[i].slice(0, j);
      el.appendChild(caret);
      if (navigator.vibrate) navigator.vibrate(2);
      if (i === lines.length - 1 && j === lines[i].length) {
        heart.style.opacity = 1;
        el.appendChild(heart);
        el.appendChild(caret);
      }
      j++; setTimeout(type, speed);
    } else {
      setTimeout(() => { i++; j = 0; type(); }, hold);
    }
  }
}

// MÃ¼zik kontrolÃ¼
const player = $('#player');
player.src = "https://raw.githubusercontent.com/kazikate/Music/cedeabbb87c1a32f7c95bf4752997fab6d67d7b6/One%2BMore%2BLight%2B(Instrumental)%2B-%2BLinkin%2BPark.wav";

function fadeInMusic(targetVolume, duration = 0) {
  player.play(); player.volume = 0;
  const interval = 50; const increment = targetVolume / (duration / interval);
  let currentVolume = 0;
  const fade = setInterval(() => {
    currentVolume += increment;
    if (currentVolume >= targetVolume) { player.volume = targetVolume; clearInterval(fade); } else { player.volume = currentVolume; }
  }, interval);
}

$('#revealMsg').addEventListener('click', () => {
  el.innerHTML = ''; i = 0; j = 0;
  el.appendChild(caret); type();
  $('#musicIcon').style.display = 'inline-block';
  const btn = $('#revealMsg');
  btn.classList.remove('press'); void btn.offsetWidth; btn.classList.add('press');
  fadeInMusic(1);
});

// PNG konfeti
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
let W, H;
function resizeCanvas() {
  const wrap = document.querySelector(".wrap");
  W = canvas.width = wrap.offsetWidth;
  H = canvas.height = wrap.offsetHeight;
}
resizeCanvas(); window.addEventListener('resize', resizeCanvas);
let confs = [];
const img = new Image(); img.src = "https://iili.io/fcG0wNf.png";

function spawn(n = 100) {
  for (let i = 0; i < n; i++) {
    confs.push({
      x: Math.random() * W, y: -20 - Math.random() * H,
      size: 20 + Math.random() * 20, vy: 2 + Math.random() * 3, vx: Math.random() * 2 - 1, rot: Math.random() * Math.PI * 2, dRot: (Math.random() * 0.04) + 0.01
    });
  }
}
function draw() {
  ctx.clearRect(0, 0, W, H);
  confs.forEach(p => {
    p.y += p.vy; p.x += p.vx; p.rot += p.dRot;
    ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.rot); ctx.globalAlpha = 1;
    ctx.drawImage(img, -p.size / 2, -p.size / 2, p.size, p.size); ctx.restore();
  });
  confs = confs.filter(p => p.y < H + 50);
  if (confs.length > 0) requestAnimationFrame(draw);
}
spawn(100); draw();

// Scroll efektleri
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('reveal'); } else { entry.target.classList.remove('reveal'); } });
}, { threshold: 0.1 });
document.querySelectorAll('.card, .polaroid, .t-item').forEach(el => observer.observe(el));
document.addEventListener('DOMContentLoaded', () => {
    const headerCard = document.getElementById('header-card'); headerCard.classList.add('reveal');
    const daysCounter = document.getElementById('daysCounter');
    const startDate = new Date(2025, 1, 23, 14, 8); 
    const today = new Date();
    const diffTime = Math.abs(today - startDate);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
    if(daysCounter) { daysCounter.innerText = diffDays; }

    const xpBar = document.querySelector('.xp-bar-fill');
    const statsCard = document.querySelector('#stats-card');
    const xpObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting && xpBar) { xpBar.style.width = '100%'; xpObserver.unobserve(entry.target); } });
    }, { threshold: 0.8 }); 
    if (statsCard) xpObserver.observe(statsCard);
});

// ------------------------------------------------------------------
// GELÄ°ÅMÄ°Å PINCH ZOOM & MODAL MANTIÄI (Reference Kodundan UyarlandÄ±)
// ------------------------------------------------------------------

const galleryGrid = document.getElementById('gallery');
const modal = document.getElementById('modal');
const modalContent = document.querySelector('.modal-content');

// Sabitler
const SPRING_TRANSITION = 'transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
const MODAL_STATE_NAME = 'photo_zoom_open';

// DeÄŸiÅŸkenler
let initialDistance = 0;
let currentScale = 1;
let isPinching = false;
const MIN_TOUCHES_FOR_PINCH = 2;

// 1. ModalÄ± AÃ§ma
function openModal(polaroidNode) {
    if (modal.classList.contains('active')) return;

    // GeÃ§miÅŸe ekle (Geri tuÅŸu iÃ§in)
    if (!history.state || history.state.modal !== MODAL_STATE_NAME) {
        history.pushState({ modal: MODAL_STATE_NAME }, '', window.location.href);
    }

    // Scroll'u kilitle
    document.body.classList.add('no-scroll');

    // Ä°Ã§eriÄŸi Kopyala
    modalContent.innerHTML = '';
    const cloned = polaroidNode.cloneNode(true);
    modalContent.appendChild(cloned);

    // Animasyon BaÅŸlangÄ±cÄ±
    modalContent.style.transition = SPRING_TRANSITION;
    modalContent.style.transform = 'scale(0)';

    // GÃ¶ster
    modal.classList.add('active');
    
    // Hafif gecikmeyle bÃ¼yÃ¼t (Pop efekti)
    setTimeout(() => {
        modalContent.style.transform = 'scale(1)';
    }, 10);

    // Escape tuÅŸu dinleyicisi
    document.addEventListener('keydown', handleEscape, { once: true });
}

// 2. ModalÄ± Kapatma
function closeModal() {
    if (!modal.classList.contains('active')) return;

    modal.classList.remove('active');
    document.removeEventListener('keydown', handleEscape);
    document.body.classList.remove('no-scroll');

    // KapanÄ±ÅŸ animasyonu
    modalContent.style.transition = SPRING_TRANSITION;
    modalContent.style.transform = 'scale(0)';
    
    // DeÄŸiÅŸkenleri sÄ±fÄ±rla
    currentScale = 1;
    isPinching = false;

    // GeÃ§miÅŸten Ã§Ä±k (EÄŸer modal durumu ise)
    if (history.state && history.state.modal === MODAL_STATE_NAME) {
        if (history.length > 0) {
            history.back();
        }
    }
}

// 3. Galeriden TÄ±klama
galleryGrid.addEventListener('click', (e) => {
    const polaroid = e.target.closest('.polaroid');
    if (polaroid) {
        openModal(polaroid);
    }
});

// 4. Modal DÄ±ÅŸÄ±na TÄ±klayÄ±nca Kapatma
modal.addEventListener('click', (e) => {
    // Ä°Ã§eriÄŸe (fotoÄŸrafa) tÄ±klanmadÄ±ysa kapat
    if (e.target.id === 'modal') {
        closeModal();
    }
});

// 5. Geri TuÅŸu KontrolÃ¼
window.addEventListener('popstate', (e) => {
    if (modal.classList.contains('active') && (!e.state || e.state.modal !== MODAL_STATE_NAME)) {
        // UI kapat (History zaten deÄŸiÅŸtiÄŸi iÃ§in back() Ã§aÄŸÄ±rmÄ±yoruz)
        modal.classList.remove('active');
        document.body.classList.remove('no-scroll');
        modalContent.style.transition = SPRING_TRANSITION;
        modalContent.style.transform = 'scale(0)';
    }
});

function handleEscape(e) {
    if (e.key === 'Escape') closeModal();
}

// 6. PINCH ZOOM MATEMATÄ°ÄÄ°

// Mesafe Hesaplama
function getDistance(touches) {
    const touch1 = touches[0];
    const touch2 = touches[1];
    return Math.sqrt(
        Math.pow(touch2.clientX - touch1.clientX, 2) +
        Math.pow(touch2.clientY - touch1.clientY, 2)
    );
}

// A. BaÅŸlangÄ±Ã§ (Touchstart)
modal.addEventListener('touchstart', (e) => {
    if (e.touches.length === MIN_TOUCHES_FOR_PINCH) {
        e.preventDefault(); // Sayfa zoomunu engelle
        modalContent.style.transition = 'none'; // AnlÄ±k tepki iÃ§in animasyonu kapat
        initialDistance = getDistance(e.touches);
        isPinching = true;
    } else {
        isPinching = false;
    }
}, { passive: false });

// B. Hareket (Touchmove)
modal.addEventListener('touchmove', (e) => {
    if (!isPinching) return;
    
    e.preventDefault();

    const newDistance = getDistance(e.touches);
    const scaleFactor = newDistance / initialDistance;
    
    // Min ve Max sÄ±nÄ±rlarÄ±
    currentScale = Math.min(Math.max(scaleFactor, 0.5), 4.0);
    
    modalContent.style.transform = `scale(${currentScale})`;
}, { passive: false });

// C. BitiÅŸ (Touchend)
modal.addEventListener('touchend', (e) => {
    if (!isPinching) return;
    
    isPinching = false;
    
    // Yaylanarak geri dÃ¶n (Spring Effect)
    modalContent.style.transition = SPRING_TRANSITION;
    modalContent.style.transform = 'scale(1)';
    currentScale = 1;
});

</script>
